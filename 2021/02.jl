### A Pluto.jl notebook ###
# v0.17.2

using Markdown
using InteractiveUtils

# ╔═╡ 309f5bfe-bfdf-492c-bed4-521a16fd2337
using DelimitedFiles

# ╔═╡ d955534c-52b4-11ec-10b7-bf7961e70d1d
md"### Advent of Code 2021 - Day 02"

# ╔═╡ 2365d986-c3df-4e48-9dd1-dab9a7338431
test="""
forward 5
down 5
forward 8
up 3
down 8
forward 2
"""

# ╔═╡ 93d54d5d-6aa6-4796-b850-769685bf277e
input="""
forward 2
down 7
down 8
forward 9
down 8
forward 9
forward 8
down 3
forward 8
forward 5
up 2
down 9
down 4
forward 4
forward 3
down 8
down 9
forward 5
down 1
up 1
forward 4
up 5
forward 2
down 6
forward 9
forward 3
forward 7
down 6
down 1
forward 8
down 3
forward 1
up 6
down 1
down 2
forward 9
down 7
down 1
down 7
down 7
up 5
down 8
forward 6
up 8
up 2
forward 6
up 1
down 9
forward 8
forward 4
up 3
forward 7
down 2
down 8
forward 5
down 9
up 4
forward 7
forward 5
down 5
down 5
forward 3
forward 2
down 2
up 4
up 7
down 8
up 8
forward 1
up 4
forward 4
down 2
forward 5
forward 7
down 4
forward 8
down 2
forward 5
forward 9
forward 6
forward 5
down 5
forward 4
forward 3
down 7
down 8
forward 9
forward 7
down 3
down 6
forward 4
down 7
up 9
down 8
up 7
up 3
forward 6
forward 9
down 2
down 3
down 1
down 3
forward 8
forward 3
forward 9
down 5
up 1
up 2
down 9
up 9
down 5
down 9
forward 1
down 3
down 5
down 1
forward 7
down 6
forward 7
forward 4
up 2
up 1
forward 9
down 2
down 6
down 5
down 6
forward 8
down 5
forward 1
forward 2
down 7
down 5
down 7
up 9
down 9
up 4
down 7
up 8
down 9
forward 3
down 6
down 2
forward 9
down 4
up 7
forward 3
down 5
forward 8
forward 9
down 2
up 5
forward 2
forward 9
up 5
down 2
forward 8
forward 6
down 7
down 3
forward 4
forward 3
forward 9
up 4
up 4
forward 7
up 3
forward 6
down 7
up 8
forward 2
up 1
down 6
forward 4
up 6
up 6
up 3
forward 4
forward 2
forward 5
forward 8
down 9
down 4
down 3
down 1
down 6
down 4
down 5
down 7
down 5
up 4
forward 3
down 4
down 7
down 7
down 2
forward 2
forward 9
up 6
down 3
up 9
forward 8
down 9
up 2
up 2
up 2
up 1
down 6
forward 9
forward 2
forward 2
forward 2
forward 5
up 3
down 7
down 6
down 8
up 3
up 9
down 3
forward 1
forward 7
down 7
down 1
forward 3
down 7
down 9
down 7
down 3
up 2
down 6
up 6
down 1
up 2
forward 7
up 2
down 7
up 2
down 9
down 3
forward 6
down 5
down 1
forward 5
down 2
down 6
down 1
down 3
down 3
down 5
forward 2
forward 4
forward 8
forward 6
forward 4
forward 9
up 8
down 5
forward 1
down 1
forward 1
forward 6
up 1
down 6
down 3
forward 9
forward 5
forward 4
up 3
up 7
down 2
up 4
up 2
down 1
forward 6
forward 9
forward 4
forward 2
down 8
forward 4
forward 3
up 5
down 4
forward 3
down 8
down 5
down 5
forward 1
forward 6
forward 4
forward 5
forward 9
forward 5
down 4
forward 3
forward 8
down 8
down 1
up 4
down 4
up 7
forward 2
forward 6
down 3
down 5
down 5
down 8
up 3
down 2
forward 4
forward 2
forward 4
forward 9
up 2
down 7
up 7
down 2
forward 4
up 7
forward 4
down 2
forward 7
up 2
down 3
forward 5
down 7
down 2
up 2
up 1
up 7
up 9
down 3
forward 1
forward 3
down 2
down 3
forward 6
down 7
forward 9
down 9
forward 3
forward 2
down 1
up 9
down 4
forward 4
up 4
forward 7
up 3
down 4
down 9
down 3
forward 7
down 6
down 7
down 6
up 5
forward 3
forward 9
up 2
up 4
up 9
down 2
forward 5
up 1
down 7
down 5
up 2
forward 8
down 8
up 3
forward 4
down 9
forward 6
down 9
down 5
forward 6
down 8
up 6
down 3
forward 6
forward 3
down 3
down 5
down 7
down 1
down 5
down 7
down 5
forward 3
down 2
forward 4
up 4
up 1
up 7
forward 1
forward 5
down 4
down 8
down 3
forward 4
down 3
up 7
down 6
forward 9
up 8
forward 2
forward 5
down 6
up 4
forward 8
forward 5
down 6
forward 2
down 7
forward 3
forward 1
forward 6
down 9
up 6
down 4
down 2
up 8
forward 4
down 8
forward 8
up 9
forward 7
down 6
up 9
down 4
up 6
down 4
down 3
up 7
up 4
forward 5
up 9
down 9
up 6
down 3
forward 8
down 9
forward 7
up 3
up 9
forward 8
down 3
forward 3
forward 5
down 6
forward 3
down 4
up 6
forward 3
forward 7
down 1
down 6
down 4
forward 6
up 6
down 5
down 6
down 4
up 2
down 7
down 9
down 2
down 6
forward 3
forward 4
down 5
up 5
down 5
forward 3
forward 6
down 4
down 7
up 2
forward 7
down 7
up 6
up 3
forward 9
forward 8
up 6
forward 2
down 2
forward 8
forward 4
up 6
forward 6
down 8
up 3
up 5
forward 6
up 8
down 1
down 4
up 9
forward 6
up 5
down 6
down 8
down 9
forward 5
up 3
down 7
forward 3
forward 6
down 3
down 1
down 9
up 9
down 4
down 7
forward 2
forward 4
down 7
forward 7
up 5
down 9
up 7
down 4
forward 6
down 5
forward 4
up 8
down 4
down 7
forward 3
down 6
down 1
forward 3
down 4
up 6
up 5
up 7
forward 5
down 4
forward 7
up 1
down 4
forward 4
down 2
down 6
forward 1
up 3
up 8
forward 6
forward 6
down 5
forward 7
down 6
down 8
forward 6
down 6
forward 3
forward 5
down 9
down 5
up 4
down 5
down 1
forward 1
forward 5
down 2
forward 5
forward 2
forward 5
up 3
forward 5
up 8
forward 9
forward 3
down 2
up 2
forward 7
down 5
up 1
down 3
down 7
up 2
forward 8
forward 6
forward 1
forward 6
forward 6
down 5
forward 4
down 5
forward 9
forward 7
down 7
down 7
down 9
forward 4
down 4
forward 3
down 6
forward 5
down 9
forward 6
up 7
down 3
up 4
up 4
down 1
down 2
up 5
forward 6
forward 2
down 7
up 6
up 3
down 8
forward 1
down 3
up 9
down 2
forward 6
forward 1
forward 4
up 1
down 8
down 2
down 9
down 5
forward 3
down 1
down 6
down 5
down 3
forward 1
forward 9
up 2
down 3
down 3
down 9
down 7
forward 6
forward 8
forward 4
up 7
down 2
forward 3
forward 1
up 4
forward 8
up 9
forward 8
forward 2
down 5
forward 2
down 6
down 6
down 4
forward 8
down 6
forward 2
forward 8
down 7
down 6
forward 2
down 1
down 8
forward 2
forward 9
up 6
forward 6
down 3
down 2
up 5
up 6
down 6
up 7
forward 5
forward 7
down 1
forward 7
forward 9
down 3
forward 4
forward 5
down 1
up 3
forward 2
up 5
forward 2
forward 1
down 5
down 4
down 8
up 8
forward 3
down 3
forward 4
down 6
up 8
down 5
up 2
down 1
up 3
forward 8
up 6
forward 9
up 9
down 5
forward 2
forward 9
up 6
forward 1
down 2
forward 4
forward 4
forward 1
forward 5
forward 1
forward 4
down 5
down 1
down 2
down 2
forward 7
down 7
down 7
down 4
down 7
down 4
down 3
up 7
up 1
forward 2
forward 3
down 4
down 5
forward 9
up 7
forward 6
down 1
forward 6
forward 6
forward 8
down 3
forward 2
down 6
forward 9
up 6
up 6
forward 7
down 5
down 6
up 3
down 5
up 4
forward 3
down 7
forward 9
up 1
down 1
up 6
down 3
up 2
down 5
forward 3
forward 6
down 9
down 4
forward 7
down 1
up 1
forward 3
forward 5
up 7
down 3
up 9
up 9
down 4
up 4
forward 8
up 9
down 8
forward 6
forward 4
forward 9
forward 8
down 2
forward 3
forward 2
down 3
up 1
forward 6
down 3
down 7
down 3
down 5
down 9
up 9
forward 8
forward 6
down 8
forward 3
down 4
down 2
down 9
forward 4
forward 2
up 4
forward 1
up 8
up 1
down 4
up 2
down 1
up 7
down 2
down 4
up 4
forward 2
down 3
forward 2
forward 3
down 5
forward 9
forward 7
down 1
up 3
down 3
forward 3
down 6
forward 5
up 3
up 3
up 1
forward 7
forward 1
forward 2
forward 2
down 4
up 7
forward 1
forward 1
forward 6
down 8
up 8
down 8
down 4
down 6
forward 8
forward 4
forward 5
down 2
down 3
forward 7
down 6
forward 4
forward 1
up 7
up 5
up 2
forward 1
forward 8
forward 2
up 9
forward 4
forward 5
down 2
forward 5
forward 7
down 3
forward 1
down 3
up 5
up 2
up 2
up 2
forward 4
forward 4
forward 8
forward 2
down 3
up 7
down 4
down 2
down 7
forward 2
down 2
forward 7
up 9
up 7
forward 7
forward 7
down 3
down 4
up 4
down 2
down 8
forward 4
down 1
up 6
forward 4
down 2
up 8
down 1
down 8
down 6
up 9
forward 4
up 1
down 2
down 9
down 7
down 4
down 8
down 8
up 1
down 5
up 5
down 7
up 7
forward 5
down 3
forward 7
up 5
down 3
forward 9
up 5
down 7
forward 8
forward 8
down 2
forward 7
forward 8
down 4
up 7
down 2
up 7
forward 5
down 1
down 3
forward 9
up 4
forward 6
forward 4
down 5
down 7
forward 2
forward 4
down 2
forward 1
down 5
up 2
down 8
down 1
down 4
down 8
down 6
forward 9
forward 2
forward 6
forward 4
down 1
forward 8
up 4
forward 6
down 4
forward 4
forward 3
forward 6
forward 9
forward 8
down 1
forward 5
down 8
forward 7
up 1
down 3
up 6
forward 5
forward 8
forward 8
forward 5
forward 5
forward 1
up 9
forward 7
up 3
down 2
down 4
forward 6
up 2
forward 5
up 8
forward 8
forward 2
forward 6
forward 3
up 4
forward 3
forward 6
"""

# ╔═╡ b02e578c-5e37-4f46-ac7b-37ffb900127a
l = input |> IOBuffer |> DelimitedFiles.readdlm #.|> Int64 |> vec 

# ╔═╡ 6a1dab04-f860-4a26-8c59-3f0298bf4ddb
md"# Part A - Log depth and distance"

# ╔═╡ 06eb5bcc-58d4-454d-8432-73b86b02179c
function log(l)
	x=0
	depth=0
	
	for i in eachrow(l)
		i[1]=="forward" ? x=x+i[2] : x
		i[1]=="backward" ? x=x-i[2] : x
		i[1]=="up" ? depth=depth-i[2] : x
		i[1]=="down" ? depth=depth+i[2] : x		
	end

	x,depth,x*depth
end

# ╔═╡ 3e03f352-720a-4fbe-b698-e31d9ca76f94
log(l)

# ╔═╡ 181ce386-3d6d-4998-ae09-706152cc5675
md"# Part B - Weird 'aim' log for angle of attack"

# ╔═╡ 14c16f37-65bb-4cee-a484-9541aab6304a
function aimlog(l)
	x=0
	aim=0
	depth=0
	
	for i in eachrow(l)
		if i[1]=="forward" 
			x=x+i[2] 
			depth=depth+aim*i[2]
		end
		i[1]=="up" ? aim=aim-i[2] : x
		i[1]=="down" ? aim=aim+i[2] : x	
		
	end

	x,depth,x*depth
end

# ╔═╡ 6e7c4af1-dc89-4c2d-bcdf-55e5c9e4998d
aimlog(l)

# ╔═╡ adfc7059-e20b-433d-8507-fc0f9a802d10
md"""
## Notes

Very weird language. 

Maybe they should have got someone with experience of subs / read a book to know what terms to use? 
Aim implies a compass direction to me, and a slightly weird one at that. 
I think inclination / angle-of-attack is closer to what you should do.

And of course, the physics has gone to hell, as we're using Integers, and so you are imlicitly making some small angle sin(x) approximation in doing depth=depth+aim*forward, and assuming aim is some small angular unit.

& we're at a depth of >1 Million something. Centimetres?
"""

# ╔═╡ 00000000-0000-0000-0000-000000000001
PLUTO_PROJECT_TOML_CONTENTS = """
[deps]
DelimitedFiles = "8bb1440f-4735-579b-a4ab-409b98df4dab"
"""

# ╔═╡ 00000000-0000-0000-0000-000000000002
PLUTO_MANIFEST_TOML_CONTENTS = """
# This file is machine-generated - editing it directly is not advised

julia_version = "1.7.0"
manifest_format = "2.0"

[[deps.DelimitedFiles]]
deps = ["Mmap"]
uuid = "8bb1440f-4735-579b-a4ab-409b98df4dab"

[[deps.Mmap]]
uuid = "a63ad114-7e13-5084-954f-fe012c677804"
"""

# ╔═╡ Cell order:
# ╠═d955534c-52b4-11ec-10b7-bf7961e70d1d
# ╠═309f5bfe-bfdf-492c-bed4-521a16fd2337
# ╠═2365d986-c3df-4e48-9dd1-dab9a7338431
# ╟─93d54d5d-6aa6-4796-b850-769685bf277e
# ╠═b02e578c-5e37-4f46-ac7b-37ffb900127a
# ╠═6a1dab04-f860-4a26-8c59-3f0298bf4ddb
# ╠═06eb5bcc-58d4-454d-8432-73b86b02179c
# ╠═3e03f352-720a-4fbe-b698-e31d9ca76f94
# ╠═181ce386-3d6d-4998-ae09-706152cc5675
# ╠═14c16f37-65bb-4cee-a484-9541aab6304a
# ╠═6e7c4af1-dc89-4c2d-bcdf-55e5c9e4998d
# ╠═adfc7059-e20b-433d-8507-fc0f9a802d10
# ╟─00000000-0000-0000-0000-000000000001
# ╟─00000000-0000-0000-0000-000000000002
